dea-pod-override-config-metadata:
  title: 'Deployment Environment Adapter POD override for Ericsson-1 virtual deployment'
  version: '0.2'
  created: 'Wed Feb 27 2016'
  comment: 'Rebased for Fuel'
environment:
  name: Fuel-virtual-kvm-ha-bl9
fuel:
  ADMIN_NETWORK:
    dhcp_pool_end: 10.20.0.254
    dhcp_pool_start: 10.20.0.3
    ipaddress: 10.20.0.2
    netmask: 255.255.255.0
  DNS_DOMAIN: ir.intel.com        # TODO config for local env
  DNS_SEARCH: ir.intel.com        # TODO config for local env
  DNS_UPSTREAM: 10.237.217.251    # TODO config for local env
  FUEL_ACCESS:
    password: admin
    user: admin
  HOSTNAME: fuel-virt-kvm
  NTP1: 10.237.217.150  # TODO config for local env
  NTP2: 10.237.217.154  # TODO config for local env
  NTP3: 10.237.217.251  # TODO config for local env
interfaces_1:
  ens3:
  - fuelweb_admin
  - management
  - storage
  - private
  ens6:
  - public
transformations_1:
  transformations:
  - action: add-br
    name: br-fw-admin
  - action: add-br
    name: br-mgmt
  - action: add-br
    name: br-storage
  - action: add-br
    name: br-ex
  - action: add-br
    name: br-floating
    provider: ovs
  - action: add-patch
    bridges:
    - br-floating
    - br-ex
    mtu: 65000
    provider: ovs
  - action: add-br
    name: br-prv
    provider: ovs
  - action: add-patch
    bridges:
    - br-prv
    - br-fw-admin
    mtu: 65000
    provider: ovs
  - action: add-port
    bridge: br-fw-admin
    name: ens3
  - action: add-port
    bridge: br-mgmt
    name: ens3.101
  - action: add-port
    bridge: br-storage
    name: ens3.102
  - action: add-port
    bridge: br-ex
    name: ens6
network:
  networking_parameters:
    base_mac: fa:16:3e:00:00:00
    configuration_template: null
    dns_nameservers:
    - 10.237.217.251     # TODO config for local env
    floating_name: admin_floating_net
    floating_ranges:
    - - 172.16.0.130
      - 172.16.0.254
    gre_id_range:
    - 2000
    - 3000
    internal_cidr: 192.168.111.0/24
    internal_gateway: 192.168.111.1
    internal_name: admin_internal_net
    net_l23_provider: ovs
    segmentation_type: vlan
    vlan_range:
    - 1000
    - 1030
  networks:
  - cidr: 192.168.1.0/24
    gateway: null
    ip_ranges:
    - - 192.168.1.1
      - 192.168.1.254
    meta:
      cidr: 192.168.1.0/24
      configurable: true
      map_priority: 2
      name: storage
      notation: cidr
      render_addr_mask: storage
      render_type: cidr
      use_gateway: false
      vlan_start: 102
    name: storage
    vlan_start: 102
  - cidr: 192.168.0.0/24
    gateway: null
    ip_ranges:
    - - 192.168.0.1
      - 192.168.0.254
    meta:
      cidr: 192.168.0.0/24
      configurable: true
      map_priority: 2
      name: management
      notation: cidr
      render_addr_mask: internal
      render_type: cidr
      use_gateway: false
      vips:
      - haproxy
      - vrouter
      vlan_start: 101
    name: management
    vlan_start: 101
  - cidr: null
    gateway: null
    ip_ranges: []
    meta:
      configurable: false
      map_priority: 2
      name: private
      neutron_vlan_range: true
      notation: null
      render_addr_mask: null
      render_type: null
      seg_type: vlan
      use_gateway: false
      vlan_start: null
    name: private
    vlan_start: null
  - cidr: 172.16.0.0/24
    gateway: 172.16.0.1
    ip_ranges:
    - - 172.16.0.2
      - 172.16.0.126
    meta:
      cidr: 172.16.0.0/24
      configurable: true
      floating_range_var: floating_ranges
      ip_range:
      - 172.16.0.2
      - 172.16.0.126
      map_priority: 1
      name: public
      notation: ip_ranges
      render_addr_mask: public
      render_type: null
      use_gateway: true
      vips:
      - haproxy
      - vrouter
      vlan_start: null
    name: public
    vlan_start: null
  - cidr: 10.20.0.0/24
    gateway: 10.20.0.1
    ip_ranges:
    - - 10.20.0.3
      - 10.20.0.254
    meta:
      configurable: false
      map_priority: 0
      notation: ip_ranges
      render_addr_mask: null
      render_type: null
      unmovable: true
      use_gateway: true
    name: fuelweb_admin
    vlan_start: null
settings:
  editable:
    common:
      libvirt_type:
        group: compute
        label: Hypervisor type
        type: radio
        value: qemu
        values:
        - data: kvm
          description: Choose this type of hypervisor if you run OpenStack on hardware
          label: KVM
        - data: qemu
          description: Choose this type of hypervisor if you run OpenStack on virtual
            hosts.
          label: QEMU
        weight: 30
    repo_setup:
      metadata:
        always_editable: true
        group: general
        label: Repositories
        weight: 50
      repos:
        description: 'Please note: the first repository will be considered the operating
          system mirror that will be used during node provisioning.

          To create a local repository mirror on the Fuel master node, please follow
          the instructions provided by running "fuel-createmirror --help" on the Fuel
          master node.

          Please make sure your Fuel master node has Internet access to the repository
          before attempting to create a mirror.

          '
        extra_priority: null
        type: custom_repo_configuration
        value:
        - name: ubuntu
          priority: null
          section: main universe multiverse
          suite: trusty
          type: deb
          uri: http://10.20.0.2:8080/mirrors/ubuntu
        - name: ubuntu-updates
          priority: null
          section: main universe multiverse
          suite: trusty-updates
          type: deb
          uri: http://10.20.0.2:8080/mirrors/ubuntu
        - name: ubuntu-security
          priority: null
          section: main universe multiverse
          suite: trusty-security
          type: deb
          uri: http://10.20.0.2:8080/mirrors/ubuntu
        - name: mos
          priority: 1050
          section: main restricted
          suite: mos9.0
          type: deb
          uri: http://10.20.0.2:8080/mitaka-9.0/ubuntu/x86_64
        - name: Auxiliary
          priority: 1150
          section: main restricted
          suite: auxiliary
          type: deb
          uri: http://10.20.0.2:8080/mitaka-9.0/ubuntu/auxiliary
    external_dns:
      dns_list:
        description: List of upstream DNS servers, separated by comma
        label: DNS list
        regex:
          error: Invalid IP address list
          source: ^\*$|^(?:\d|1?\d\d|2[0-4]\d|25[0-5])(?:\.(?:\d|1?\d\d|2[0-4]\d|25[0-5])){3}(?:\s*,\s*(?:\d|1?\d\d|2[0-4]\d|25[0-5])(?:\.(?:\d|1?\d\d|2[0-4]\d|25[0-5])){3})*$
        type: text
        value: 10.237.217.251    # TODO config for local env
        weight: 10
      metadata:
        group: network
        label: Host OS DNS Servers
        weight: 30
    external_ntp:
      metadata:
        group: network
        label: Host OS NTP Servers
        weight: 40
      ntp_list:
        description: List of upstream NTP servers, separated by comma
        label: NTP server list
        regex:
          error: Invalid NTP server list
          source: ^\s*(?:(?:\w+(?:-+\w+)*\.)+[a-z]+|\d{1,3}(?:\.\d{1,3}){3})\s*(?:,\s*(?:(?:\w+(?:-+\w+)*\.)+[a-z]+|\d{1,3}(\.\d{1,3}){3})\s*)*$
        type: text
        value: 10.237.217.150   # TODO config for local env
        weight: 10
    syslog:
      metadata:
        enabled: false
        group: logging
        label: Syslog
        toggleable: true
        weight: 50
      syslog_port:
        description: Remote syslog port
        label: Port
        regex:
          error: Invalid syslog port
          source: ^([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$
        type: text
        value: '514'
        weight: 20
      syslog_server:
        description: Remote syslog hostname
        label: Hostname
        regex:
          error: Invalid hostname
          source: ^[a-zA-Z\d]+[-\.\da-zA-Z]*$
        type: text
        value: ''
        weight: 10
      syslog_transport:
        label: Syslog transport protocol
        type: radio
        value: tcp
        values:
        - data: udp
          description: ''
          label: UDP
        - data: tcp
          description: ''
          label: TCP
        weight: 30
